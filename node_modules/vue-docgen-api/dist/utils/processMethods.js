"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = processMethods;var _getMethod = _interopRequireDefault(require("./getMethod"));

function processMethods(docFile, component) {
  docFile = docFile.slice();
  var methods = component.methods;
  var listDocMethods = [];
  var mixins = component.mixins;
  if (mixins) {
    mixins.forEach(function (mixin) {
      var mMixin = mixin.methods;
      if (mMixin) {
        methods = Object.assign({}, mMixin, methods);
      }
    });
  }
  if (methods) {
    var listDocParts = [];
    Object.keys(methods).forEach(function (methodName) {
      var docPart = docFile.reverse().filter(function (comment) {
        return (
          comment.longname.indexOf('methods.' + methodName) > -1 &&
          listDocParts.indexOf(comment.longname) === -1);

      })[0];
      if (docPart) {
        if (docPart['access'] && docPart['access'] === 'public') {
          listDocParts.push(docPart.longname);
          listDocMethods.push((0, _getMethod.default)(methodName, docPart));
        }
      }
    });
  }
  return listDocMethods;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9wcm9jZXNzTWV0aG9kcy5qcyJdLCJuYW1lcyI6WyJwcm9jZXNzTWV0aG9kcyIsImRvY0ZpbGUiLCJjb21wb25lbnQiLCJzbGljZSIsIm1ldGhvZHMiLCJsaXN0RG9jTWV0aG9kcyIsIm1peGlucyIsImZvckVhY2giLCJtaXhpbiIsIm1NaXhpbiIsIk9iamVjdCIsImFzc2lnbiIsImxpc3REb2NQYXJ0cyIsImtleXMiLCJtZXRob2ROYW1lIiwiZG9jUGFydCIsInJldmVyc2UiLCJmaWx0ZXIiLCJjb21tZW50IiwibG9uZ25hbWUiLCJpbmRleE9mIiwicHVzaCJdLCJtYXBwaW5ncyI6ImlNQUFBOztBQUVlLFNBQVNBLGNBQVQsQ0FBd0JDLE9BQXhCLEVBQWlDQyxTQUFqQyxFQUE0QztBQUN6REQsRUFBQUEsT0FBTyxHQUFHQSxPQUFPLENBQUNFLEtBQVIsRUFBVjtBQUNBLE1BQUlDLE9BQU8sR0FBR0YsU0FBUyxDQUFDRSxPQUF4QjtBQUNBLE1BQU1DLGNBQWMsR0FBRyxFQUF2QjtBQUNBLE1BQUlDLE1BQU0sR0FBR0osU0FBUyxDQUFDSSxNQUF2QjtBQUNBLE1BQUlBLE1BQUosRUFBWTtBQUNWQSxJQUFBQSxNQUFNLENBQUNDLE9BQVAsQ0FBZSxVQUFBQyxLQUFLLEVBQUk7QUFDdEIsVUFBTUMsTUFBTSxHQUFHRCxLQUFLLENBQUNKLE9BQXJCO0FBQ0EsVUFBSUssTUFBSixFQUFZO0FBQ1ZMLFFBQUFBLE9BQU8sR0FBR00sTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQkYsTUFBbEIsRUFBMEJMLE9BQTFCLENBQVY7QUFDRDtBQUNGLEtBTEQ7QUFNRDtBQUNELE1BQUlBLE9BQUosRUFBYTtBQUNYLFFBQU1RLFlBQVksR0FBRyxFQUFyQjtBQUNBRixJQUFBQSxNQUFNLENBQUNHLElBQVAsQ0FBWVQsT0FBWixFQUFxQkcsT0FBckIsQ0FBNkIsVUFBQU8sVUFBVSxFQUFJO0FBQ3pDLFVBQU1DLE9BQU8sR0FBR2QsT0FBTyxDQUFDZSxPQUFSLEdBQWtCQyxNQUFsQixDQUF5QixVQUFBQyxPQUFPLEVBQUk7QUFDbEQ7QUFDRUEsVUFBQUEsT0FBTyxDQUFDQyxRQUFSLENBQWlCQyxPQUFqQixDQUF5QixhQUFhTixVQUF0QyxJQUFvRCxDQUFDLENBQXJEO0FBQ0FGLFVBQUFBLFlBQVksQ0FBQ1EsT0FBYixDQUFxQkYsT0FBTyxDQUFDQyxRQUE3QixNQUEyQyxDQUFDLENBRjlDOztBQUlELE9BTGUsRUFLYixDQUxhLENBQWhCO0FBTUEsVUFBSUosT0FBSixFQUFhO0FBQ1gsWUFBSUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxJQUFxQkEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxLQUFzQixRQUEvQyxFQUF5RDtBQUN2REgsVUFBQUEsWUFBWSxDQUFDUyxJQUFiLENBQWtCTixPQUFPLENBQUNJLFFBQTFCO0FBQ0FkLFVBQUFBLGNBQWMsQ0FBQ2dCLElBQWYsQ0FBb0Isd0JBQVVQLFVBQVYsRUFBc0JDLE9BQXRCLENBQXBCO0FBQ0Q7QUFDRjtBQUNGLEtBYkQ7QUFjRDtBQUNELFNBQU9WLGNBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRNZXRob2QgZnJvbSAnLi9nZXRNZXRob2QnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByb2Nlc3NNZXRob2RzKGRvY0ZpbGUsIGNvbXBvbmVudCkge1xuICBkb2NGaWxlID0gZG9jRmlsZS5zbGljZSgpXG4gIGxldCBtZXRob2RzID0gY29tcG9uZW50Lm1ldGhvZHNcbiAgY29uc3QgbGlzdERvY01ldGhvZHMgPSBbXVxuICBsZXQgbWl4aW5zID0gY29tcG9uZW50Lm1peGluc1xuICBpZiAobWl4aW5zKSB7XG4gICAgbWl4aW5zLmZvckVhY2gobWl4aW4gPT4ge1xuICAgICAgY29uc3QgbU1peGluID0gbWl4aW4ubWV0aG9kc1xuICAgICAgaWYgKG1NaXhpbikge1xuICAgICAgICBtZXRob2RzID0gT2JqZWN0LmFzc2lnbih7fSwgbU1peGluLCBtZXRob2RzKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBjb25zdCBsaXN0RG9jUGFydHMgPSBbXVxuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgICBjb25zdCBkb2NQYXJ0ID0gZG9jRmlsZS5yZXZlcnNlKCkuZmlsdGVyKGNvbW1lbnQgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbW1lbnQubG9uZ25hbWUuaW5kZXhPZignbWV0aG9kcy4nICsgbWV0aG9kTmFtZSkgPiAtMSAmJlxuICAgICAgICAgIGxpc3REb2NQYXJ0cy5pbmRleE9mKGNvbW1lbnQubG9uZ25hbWUpID09PSAtMVxuICAgICAgICApXG4gICAgICB9KVswXVxuICAgICAgaWYgKGRvY1BhcnQpIHtcbiAgICAgICAgaWYgKGRvY1BhcnRbJ2FjY2VzcyddICYmIGRvY1BhcnRbJ2FjY2VzcyddID09PSAncHVibGljJykge1xuICAgICAgICAgIGxpc3REb2NQYXJ0cy5wdXNoKGRvY1BhcnQubG9uZ25hbWUpXG4gICAgICAgICAgbGlzdERvY01ldGhvZHMucHVzaChnZXRNZXRob2QobWV0aG9kTmFtZSwgZG9jUGFydCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHJldHVybiBsaXN0RG9jTWV0aG9kc1xufVxuIl19