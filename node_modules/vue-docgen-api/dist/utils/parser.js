"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = parser;var _hashSum = _interopRequireDefault(require("hash-sum"));

var compiler = require('vue-template-compiler');
var cache = require('lru-cache')(100);

function parser(source, filename) {
  var cacheKey = (0, _hashSum.default)(filename + source);
  // source-map cache busting for hot-reloadded modules
  var output = cache.get(cacheKey);
  if (output) {
    return output;
  }
  output = compiler.parseComponent(source, { pad: true });
  cache.set(cacheKey, output);
  return output;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9wYXJzZXIuanMiXSwibmFtZXMiOlsiY29tcGlsZXIiLCJyZXF1aXJlIiwiY2FjaGUiLCJwYXJzZXIiLCJzb3VyY2UiLCJmaWxlbmFtZSIsImNhY2hlS2V5Iiwib3V0cHV0IiwiZ2V0IiwicGFyc2VDb21wb25lbnQiLCJwYWQiLCJzZXQiXSwibWFwcGluZ3MiOiJ5TEFBQTs7QUFFQSxJQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyx1QkFBRCxDQUF4QjtBQUNBLElBQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBUCxDQUFxQixHQUFyQixDQUFkOztBQUVlLFNBQVNFLE1BQVQsQ0FBZ0JDLE1BQWhCLEVBQXdCQyxRQUF4QixFQUFrQztBQUMvQyxNQUFNQyxRQUFRLEdBQUcsc0JBQUtELFFBQVEsR0FBR0QsTUFBaEIsQ0FBakI7QUFDQTtBQUNBLE1BQUlHLE1BQU0sR0FBR0wsS0FBSyxDQUFDTSxHQUFOLENBQVVGLFFBQVYsQ0FBYjtBQUNBLE1BQUlDLE1BQUosRUFBWTtBQUNWLFdBQU9BLE1BQVA7QUFDRDtBQUNEQSxFQUFBQSxNQUFNLEdBQUdQLFFBQVEsQ0FBQ1MsY0FBVCxDQUF3QkwsTUFBeEIsRUFBZ0MsRUFBRU0sR0FBRyxFQUFFLElBQVAsRUFBaEMsQ0FBVDtBQUNBUixFQUFBQSxLQUFLLENBQUNTLEdBQU4sQ0FBVUwsUUFBVixFQUFvQkMsTUFBcEI7QUFDQSxTQUFPQSxNQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaGFzaCBmcm9tICdoYXNoLXN1bSdcblxuY29uc3QgY29tcGlsZXIgPSByZXF1aXJlKCd2dWUtdGVtcGxhdGUtY29tcGlsZXInKVxuY29uc3QgY2FjaGUgPSByZXF1aXJlKCdscnUtY2FjaGUnKSgxMDApXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlcihzb3VyY2UsIGZpbGVuYW1lKSB7XG4gIGNvbnN0IGNhY2hlS2V5ID0gaGFzaChmaWxlbmFtZSArIHNvdXJjZSlcbiAgLy8gc291cmNlLW1hcCBjYWNoZSBidXN0aW5nIGZvciBob3QtcmVsb2FkZGVkIG1vZHVsZXNcbiAgbGV0IG91dHB1dCA9IGNhY2hlLmdldChjYWNoZUtleSlcbiAgaWYgKG91dHB1dCkge1xuICAgIHJldHVybiBvdXRwdXRcbiAgfVxuICBvdXRwdXQgPSBjb21waWxlci5wYXJzZUNvbXBvbmVudChzb3VyY2UsIHsgcGFkOiB0cnVlIH0pXG4gIGNhY2hlLnNldChjYWNoZUtleSwgb3V0cHV0KVxuICByZXR1cm4gb3V0cHV0XG59XG4iXX0=